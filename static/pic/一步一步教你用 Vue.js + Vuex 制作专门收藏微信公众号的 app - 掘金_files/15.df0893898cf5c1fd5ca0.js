webpackJsonp([15,35],{1061:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.state.route,r=e.params.id;if(r){var n=b(t),i=n.actionType.FETCH;return t.dispatch(i,r)}}function s(t){var e=b(t),r=e.actionType.RESET;t.dispatch(r)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(107),o=n(a),c=r(670),l=r(39),u=r(633),d=r(69),f=n(d),v=r(724),h=n(v),y=r(624),m=n(y),p=r(723),_=n(p),b=function(t){return t.state.view.entryPublic};e.default={components:{RelatedEntry:h.default,Thumb:m.default,EntryViewFooter:_.default},computed:{state:function(){return b(this.$store)},entry:function(){return this.state.entry},categoryTitle:function(){return this.entry&&f.default[this.entry.category]},entryCreateDate:function(){return this.entry&&(0,l.formatDate)(new Date(this.entry.createdAt),"YYYY-MM-DD")}},watch:{$route:function(){o.default.initHighlightingOnLoad(),this.fetch()}},metaInfo:function(){var t=(0,c.getEntrySEOMeta)(this.entry),e=t.title,r=t.keywords,n=t.description;return{title:e||"文章",meta:[{vmid:"keywords",name:"keywords",content:r},{vmid:"description",name:"description",content:n},{name:"robots",content:"nofollow"}]}},methods:{fetch:function(){return i(this.$store)},reset:function(){return s(this.$store)},recordView:function(){(0,u.recordEntryPublicView)(this.entry)}},preFetch:function(t){return i(t)},mounted:function(){var t=this;this.entry.createdAt=this.entry.createdAt,o.default.initHighlightingOnLoad(),this.fetch().then(function(){return t.recordView()})},beforeDestroy:function(){this.reset()}}},601:function(t,e,r){r(961),r(962);var n=r(16)(r(1061),r(885),"data-v-41d33d72",null);t.exports=n.exports},624:function(t,e,r){r(627);var n=r(16)(r(628),r(626),"data-v-009ea7bb",null);t.exports=n.exports},626:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"thumb",style:t.thumbStyle},[r("img",{staticClass:"hidden",attrs:{src:t.thumbUrl,alt:t.alt}})])},staticRenderFns:[]}},627:function(t,e){},628:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(24),s=n(i),a=r(267),o=r(269);e.default={name:"Thumb",props:["url","default","width","height","shrink","format","size","alt","blank"],serverCacheKey:function(t){return(0,s.default)(t).map(function(e){return t[e]}).join(":")},computed:{thumbUrl:function(){var t=this.url||(this.blank?"":this.default||a.defaultThumbUrl);return this.width&&this.height?this.shrink?(0,o.getShrinkedImageUrl)(t,this.width,this.height,{format:this.format}):(0,o.getCroppedImageUrl)(t,this.width,this.height,{format:this.format}):t},thumbStyle:function(){return{backgroundImage:"url("+this.thumbUrl+")",backgroundSize:this.size||"cover"}}}}},631:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function s(t){return o(t,"web")}function a(t){return o(t,"public")}function o(t,e){var r=d.getCurrentUser();return(new l.default.Class.View).set("user",r?(0,f.createAVObject)("User",r.id):null).set("entry",(0,f.createAVObject)("Entry",t)).set("source",e).save()}Object.defineProperty(e,"__esModule",{value:!0}),e.recordEntryView=s,e.recordEntryPublicView=a;var c=r(11),l=i(c),u=r(5),d=n(u),f=r(8)},633:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function s(t){return t&&t.id?u.recordEntryView(t.id).catch(function(t){console.error(t)}):c.default.resolve()}function a(t){return t&&t.id?u.recordEntryPublicView(t.id).catch(function(t){console.error(t)}):c.default.resolve()}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),c=i(o);e.recordEntryView=s,e.recordEntryPublicView=a;var l=r(634),u=n(l)},634:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return o.recordEntryView(t)}function s(t){return o.recordEntryPublicView(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.recordEntryView=i,e.recordEntryPublicView=s;var a=r(631),o=n(a)},670:function(t,e,r){"use strict";function n(t,e){t=t||{},e=e||t.parsedContent;var r=t.title||"",n=i(e)||t.content;return{title:r,keywords:s(t.tagsTitleArray),description:a(n)}}function i(t){return(t||"").replace(/<.*?>/g,"")}function s(t){return t=t||[],t.concat(o.KEYWORDS).join(",").replace(/[\r\n]/g," ")}function a(t){return t=(t||"").trim(),t=t?t.slice(0,140)+" | "+o.DESCRIPTION:o.DESCRIPTION,t.replace(/[\r\n]/g," ")}Object.defineProperty(e,"__esModule",{value:!0}),e.getEntrySEOMeta=n,e.toKeywords=s,e.toDescription=a;var o=r(274)},723:function(t,e,r){r(750);var n=r(16)(r(768),r(735),"data-v-6d38bc9a",null);t.exports=n.exports},724:function(t,e,r){r(753);var n=r(16)(r(769),r(738),"data-v-9db545a6",null);t.exports=n.exports},735:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"entry-view-footer"},[r("div",{staticClass:"footer-container"},[t._m(0),r("a",{staticClass:"button",attrs:{href:"http://a.app.qq.com/o/simple.jsp?pkgname=com.daimajia.gold"}},[t._v("立即下载"),r("div",{staticClass:"entry-pop-up",class:{open:t.isPopupVisible}},[r("a",{staticClass:"pop-up-content",attrs:{href:"http://a.app.qq.com/o/simple.jsp?pkgname=com.daimajia.gold"}},[t._v(t._s(t.category)+"高手都在看")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{staticClass:"left",attrs:{href:"https://juejin.im/about"}},[r("img",{attrs:{src:"https://gold-cdn.xitu.io/images/logo-bold.svg"}}),r("span",[t._v("高质量的技术社区")])])}]}},738:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"related-entry"},[r("a",{directives:[{name:"link",rawName:"v-link.blank",value:t.detailRoute,expression:"detailRoute",modifiers:{blank:!0}}],staticClass:"entry-link"},[r("thumb",{staticClass:"thumb",attrs:{url:this.entry.screenshot}}),r("div",{staticClass:"info"},[r("div",{staticClass:"row title-row"},[r("a",{directives:[{name:"link",rawName:"v-link.blank",value:t.detailRoute,expression:"detailRoute",modifiers:{blank:!0}}],staticClass:"title"},[t._v(t._s(t.entry.title))])]),r("div",{staticClass:"row meta-row"},[r("ul",{staticClass:"meta-list"},[r("li",{staticClass:"meta user"},[r("div",{staticClass:"username"},[t._v(t._s(t.entry.user.username))])]),t.entry.collectionCount?r("li",{staticClass:"meta like"},[r("div",{staticClass:"icon icon-likes iconfont icon-xlcollection"}),r("div",{staticClass:"count"},[t._v(t._s(t.entry.collectionCount))])]):t._e(),t.entry.commentsCount?r("li",{staticClass:"meta comment"},[r("div",{staticClass:"icon icon-comments iconfont icon-xlchatbox"}),r("div",{staticClass:"count"},[t._v(t._s(t.entry.commentsCount))])]):t._e()])])])],1)])},staticRenderFns:[]}},750:function(t,e){},753:function(t,e){},768:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54);e.default={data:function(){return{isPopupVisible:!1}},props:["category"],mounted:function(){var t=this;this.removeEventListener=(0,n.onScroll)(document,function(){var e=document.documentElement.offsetHeight,r=window.screen.height,n=document.body.scrollTop;t.isPopupVisible=e-r-n<=200})},beforeDestroy:function(){this.removeEventListener()}}},769:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(624),s=n(i);e.default={components:{Thumb:s.default},props:["entry"],computed:{detailRoute:function(){return"post"===this.entry.type?this.entry.originalUrl:"/entry/"+this.entry.id+"/detail"}}}},885:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view-container",[r("div",{staticClass:"view entry-public-view shadow"},[t.entry.screenshot?r("thumb",{staticClass:"thumb",attrs:{url:t.entry.screenshot,width:800,height:600,format:"jpg"}}):t._e(),r("h1",[t._v(t._s(t.entry.title))]),r("div",{staticClass:"entry-public-info"},[r("div",{staticClass:"text-muted info-item"},[t._v("阅读 "+t._s(t.entry.viewsCount))]),r("div",{staticClass:"text-muted info-item"},[t._v("收藏 "+t._s(t.entry.collectionCount))]),r("div",{staticClass:"text-muted info-item"},[t._v(t._s(t.entryCreateDate))])]),r("div",{staticClass:"header"},[r("div",{staticClass:"originalUrl"},[t._v("原文链接："),r("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:t.entry.originalUrl,expression:"entry.originalUrl",modifiers:{external:!0,blank:!0}}]},[t._v(t._s(t.entry.originalUrl))])]),r("div",{staticClass:"abstract"},[t._v(t._s(t.entry.content)+"\n—— 由"),r("router-link",{attrs:{to:t.$userRoute(t.entry.user)}},[t._v(t._s(t.entry.user.username))]),t._v("分享")],1)]),t.entry.parsedContent?r("div",{staticClass:"entry-content",domProps:{innerHTML:t._s(t.entry.parsedContent)}}):r("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:t.entry.originalUrl,expression:"entry.originalUrl",modifiers:{external:!0,blank:!0}}],staticClass:"origin-link"},[t._v("查看文章")]),r("div",{staticClass:"footer"},[r("ul",{staticClass:"tag-list"},t._l(t.entry.tagsTitleArray,function(e){return r("li",{staticClass:"item"},[r("router-link",{attrs:{to:t.$tagRoute(e)}},[t._v(t._s(e))])],1)})),r("div",{staticClass:"related-entry-list-box"},[r("div",{staticClass:"title"},[t._v("相关热门文章")]),r("ul",{staticClass:"related-entry-list"},t._l(t.state.relatedEntryList,function(t){return r("li",{staticClass:"item"},[r("related-entry",{staticClass:"related-entry",attrs:{entry:t}})],1)}))])])],1),r("entry-view-footer",{attrs:{category:t.categoryTitle}})],1)},staticRenderFns:[]}},961:function(t,e){},962:function(t,e){}});